<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.css.app.dictionary.dao.DictionaryTypeDao">

	<select id="queryObject" resultType="com.css.app.dictionary.entity.DictionaryType">
		select * from DOCUMENT_DICTIONARY_TYPE where ID = #{value}
	</select>

	<select id="queryList" resultType="com.css.app.dictionary.entity.DictionaryType">
		select * from DOCUMENT_DICTIONARY_TYPE order by sort
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>
	
	<select id="queryDicList" resultType="java.util.Map">
		select a.id,max(a.DICTIONARY_NAME) DICTIONARY_NAME,wm_concat(b.DICTIONARY_VALUE) DICTIONARY_VALUE
			from DOCUMENT_DICTIONARY_TYPE a,DOCUMENT_DICTIONARY_VALUE b
		where a.id = b.dictionary_type_id(+) 
		group by a.id order by a.sort
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>
	
 	<select id="queryTotal" resultType="int">
		select count(*) from DOCUMENT_DICTIONARY_TYPE 
	</select>
	 
	<insert id="save" parameterType="com.css.app.dictionary.entity.DictionaryType">
		insert into DOCUMENT_DICTIONARY_TYPE
		(
			"ID", 
			"DICTIONARY_NAME", 
			"SORT", 
			"CREATED_TIME"
		)
		values
		(
			#{id}, 
			#{dictionaryName}, 
			#{sort}, 
			#{createdTime}
		)
	</insert>
	 
	<update id="update" parameterType="com.css.app.dictionary.entity.DictionaryType">
		update DOCUMENT_DICTIONARY_TYPE 
		<set>
			<if test="dictionaryName != null">"DICTIONARY_NAME" = #{dictionaryName}, </if>
			<if test="sort != null">"SORT" = #{sort}, </if>
			<if test="createdTime != null">"CREATED_TIME" = #{createdTime}</if>
		</set>
		where ID = #{id}
	</update>
	
	<delete id="delete">
		delete from DOCUMENT_DICTIONARY_TYPE where ID = #{value}
	</delete>
	
	<delete id="deleteBatch">
		delete from DOCUMENT_DICTIONARY_TYPE where ID in 
		<foreach item="id" collection="array" open="(" separator="," close=")">
			#{id}
		</foreach>
	</delete>

</mapper>